{"ast":null,"code":"import api from '../Config/api';\n\nconst authenticate = async (params, getToken) => {\n  api.post('/auth/authenticate', params).then(response => {\n    const token = response.data.token;\n    localStorage.setItem('token', token);\n    api.defaults.headers.common = {\n      Authorization: \"Bearer \".concat(token)\n    };\n    console.log(response);\n    let gotToken = localStorage.getItem('token');\n    getToken();\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst constructData = (e, email, password, getToken) => {\n  e.preventDefault();\n  let data = {};\n  data.email = email;\n  data.password = password;\n  console.log(data);\n  authenticate(data, getToken);\n};\n\nexport default constructData;","map":{"version":3,"sources":["C:\\Users\\Odyssey\\Documents\\GitHub\\squads\\LastFM-react-web-client\\src\\Functions\\Auth.js"],"names":["api","authenticate","params","getToken","post","then","response","token","data","localStorage","setItem","defaults","headers","common","Authorization","console","log","gotToken","getItem","catch","err","constructData","e","email","password","preventDefault"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,eAAhB;;AAEA,MAAMC,YAAY,GAAG,OAAOC,MAAP,EAAeC,QAAf,KAA4B;AAC/CH,EAAAA,GAAG,CACAI,IADH,CACQ,oBADR,EAC8BF,MAD9B,EAEGG,IAFH,CAESC,QAAD,IAAc;AAClB,UAAMC,KAAK,GAAGD,QAAQ,CAACE,IAAT,CAAcD,KAA5B;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,KAA9B;AACAP,IAAAA,GAAG,CAACW,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,GAA8B;AAAEC,MAAAA,aAAa,mBAAYP,KAAZ;AAAf,KAA9B;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAYV,QAAZ;AACA,QAAIW,QAAQ,GAAGR,YAAY,CAACS,OAAb,CAAqB,OAArB,CAAf;AACAf,IAAAA,QAAQ;AACT,GATH,EAUGgB,KAVH,CAUUC,GAAD,IAAS;AACdL,IAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD,GAZH;AAaD,CAdD;;AAgBA,MAAMC,aAAa,GAAG,CAACC,CAAD,EAAIC,KAAJ,EAAWC,QAAX,EAAqBrB,QAArB,KAAkC;AACtDmB,EAAAA,CAAC,CAACG,cAAF;AACA,MAAIjB,IAAI,GAAG,EAAX;AACAA,EAAAA,IAAI,CAACe,KAAL,GAAaA,KAAb;AACAf,EAAAA,IAAI,CAACgB,QAAL,GAAgBA,QAAhB;AACAT,EAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;AACAP,EAAAA,YAAY,CAACO,IAAD,EAAOL,QAAP,CAAZ;AACD,CAPD;;AASA,eAAekB,aAAf","sourcesContent":["import api from '../Config/api';\r\n\r\nconst authenticate = async (params, getToken) => {\r\n  api\r\n    .post('/auth/authenticate', params)\r\n    .then((response) => {\r\n      const token = response.data.token;\r\n      localStorage.setItem('token', token);\r\n      api.defaults.headers.common = { Authorization: `Bearer ${token}` };\r\n      console.log(response);\r\n      let gotToken = localStorage.getItem('token');\r\n      getToken();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst constructData = (e, email, password, getToken) => {\r\n  e.preventDefault();\r\n  let data = {};\r\n  data.email = email;\r\n  data.password = password;\r\n  console.log(data);\r\n  authenticate(data, getToken);\r\n};\r\n\r\nexport default constructData;\r\n"]},"metadata":{},"sourceType":"module"}