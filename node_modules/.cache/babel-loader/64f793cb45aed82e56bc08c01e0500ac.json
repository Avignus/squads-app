{"ast":null,"code":"import api from '../Config/api';\nlet token = '';\n\nconst authenticate = async (params, setToken) => {\n  await api.post('/auth/authenticate', params).then(response => {\n    const tokenReturned = response.data.token;\n    api.defaults.headers.common = {\n      Authorization: \"bearer \".concat(token)\n    };\n    console.log(token, 'token retornado');\n\n    if (token) {\n      localStorage.setItem('token', token);\n      setToken();\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst constructData = async (e, email, password, setToken) => {\n  e.preventDefault();\n  let data = {};\n  data.email = email;\n  data.password = password;\n  console.log(data);\n  await authenticate(data, setToken);\n};\n\nexport default constructData;","map":{"version":3,"sources":["C:\\Users\\Odyssey\\Documents\\GitHub\\squads\\LastFM-react-web-client\\src\\Functions\\Auth.js"],"names":["api","token","authenticate","params","setToken","post","then","response","tokenReturned","data","defaults","headers","common","Authorization","console","log","localStorage","setItem","catch","err","constructData","e","email","password","preventDefault"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,eAAhB;AAEA,IAAIC,KAAK,GAAG,EAAZ;;AACA,MAAMC,YAAY,GAAG,OAAOC,MAAP,EAAeC,QAAf,KAA4B;AAC/C,QAAMJ,GAAG,CACNK,IADG,CACE,oBADF,EACwBF,MADxB,EAEHG,IAFG,CAEGC,QAAD,IAAc;AAClB,UAAMC,aAAa,GAAGD,QAAQ,CAACE,IAAT,CAAcR,KAApC;AACAD,IAAAA,GAAG,CAACU,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,GAA8B;AAAEC,MAAAA,aAAa,mBAAYZ,KAAZ;AAAf,KAA9B;AACAa,IAAAA,OAAO,CAACC,GAAR,CAAYd,KAAZ,EAAmB,iBAAnB;;AACA,QAAIA,KAAJ,EAAW;AACTe,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BhB,KAA9B;AACAG,MAAAA,QAAQ;AACT;AACF,GAVG,EAWHc,KAXG,CAWIC,GAAD,IAAS;AACdL,IAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD,GAbG,CAAN;AAcD,CAfD;;AAiBA,MAAMC,aAAa,GAAG,OAAOC,CAAP,EAAUC,KAAV,EAAiBC,QAAjB,EAA2BnB,QAA3B,KAAwC;AAC5DiB,EAAAA,CAAC,CAACG,cAAF;AACA,MAAIf,IAAI,GAAG,EAAX;AACAA,EAAAA,IAAI,CAACa,KAAL,GAAaA,KAAb;AACAb,EAAAA,IAAI,CAACc,QAAL,GAAgBA,QAAhB;AACAT,EAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACA,QAAMP,YAAY,CAACO,IAAD,EAAOL,QAAP,CAAlB;AACD,CAPD;;AASA,eAAegB,aAAf","sourcesContent":["import api from '../Config/api';\r\n\r\nlet token = '';\r\nconst authenticate = async (params, setToken) => {\r\n  await api\r\n    .post('/auth/authenticate', params)\r\n    .then((response) => {\r\n      const tokenReturned = response.data.token;\r\n      api.defaults.headers.common = { Authorization: `bearer ${token}` };\r\n      console.log(token, 'token retornado');\r\n      if (token) {\r\n        localStorage.setItem('token', token);\r\n        setToken();\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst constructData = async (e, email, password, setToken) => {\r\n  e.preventDefault();\r\n  let data = {};\r\n  data.email = email;\r\n  data.password = password;\r\n  console.log(data);\r\n  await authenticate(data, setToken);\r\n};\r\n\r\nexport default constructData;\r\n"]},"metadata":{},"sourceType":"module"}