{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Odyssey\\\\Documents\\\\GitHub\\\\LastFM-react-web-client\\\\src\\\\Components\\\\Artists.js\";\nimport React from 'react';\nimport Albums from './Albums';\nimport Search from './Search';\nimport { apiKey } from '../api_key.js';\n\nclass Artists extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      albums: undefined,\n      showResults: this.props.showResults == false ? false : true,\n      error: this.props.error\n    };\n\n    this.back = () => {\n      this.setState({\n        showResults: true\n      });\n    };\n\n    this.gettingAlbums = async e => {\n      e.preventDefault();\n      const artist = e.target.innerHTML;\n\n      if (artist) {\n        const api_url = await fetch(\"http://ws.audioscrobbler.com/2.0/?method=artist.gettopalbums&artist=\".concat(artist, \"&api_key=\").concat(apiKey, \"&format=json\"));\n        const data = await api_url.json();\n        this.setState({\n          albums: data.topalbums.album,\n          showResults: this.props.showResults\n        });\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, this.props.artist && this.state.showResults ? React.createElement(\"div\", {\n      className: \"artists\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, this.props.artist.map((place, index) => React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-info mt-1 mb-1\",\n      key: index,\n      onClick: this.gettingAlbums,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, place.name))), React.createElement(Albums, {\n      albums: this.state.albums,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }))) : this.props.artist ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.back,\n      className: \"btn btn-primary ml-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"\\u041D\\u0430\\u0437\\u0430\\u0434 \\u043A \\u043F\\u043E\\u0438\\u0441\\u043A\\u0443\"), React.createElement(Albums, {\n      albums: this.state.albums,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })) : this.props.error != undefined ? React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, this.props.error) : '');\n  }\n\n}\n\nexport default Artists;","map":{"version":3,"sources":["C:\\Users\\Odyssey\\Documents\\GitHub\\LastFM-react-web-client\\src\\Components\\Artists.js"],"names":["React","Albums","Search","apiKey","Artists","Component","state","albums","undefined","showResults","props","error","back","setState","gettingAlbums","e","preventDefault","artist","target","innerHTML","api_url","fetch","data","json","topalbums","album","render","map","place","index","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAAQC,MAAR,QAAqB,eAArB;;AAGA,MAAMC,OAAN,SAAsBJ,KAAK,CAACK,SAA5B,CAAsC;AAAA;AAAA;AAAA,SAElCC,KAFkC,GAE1B;AACJC,MAAAA,MAAM,EAAEC,SADJ;AAEJC,MAAAA,WAAW,EAAE,KAAKC,KAAL,CAAWD,WAAX,IAA0B,KAA1B,GAAkC,KAAlC,GAA0C,IAFnD;AAGJE,MAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC;AAHd,KAF0B;;AAAA,SAOlCC,IAPkC,GAO3B,MAAM;AACT,WAAKC,QAAL,CAAc;AACVJ,QAAAA,WAAW,EAAE;AADH,OAAd;AAGH,KAXiC;;AAAA,SAYlCK,aAZkC,GAYlB,MAAOC,CAAP,IAAa;AAEzBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMC,MAAM,GAAGF,CAAC,CAACG,MAAF,CAASC,SAAxB;;AACA,UAAIF,MAAJ,EAAY;AAER,cAAMG,OAAO,GAAG,MAAMC,KAAK,+EAAwEJ,MAAxE,sBAA0Fd,MAA1F,kBAA3B;AACA,cAAMmB,IAAI,GAAG,MAAMF,OAAO,CAACG,IAAR,EAAnB;AACA,aAAKV,QAAL,CAAc;AACVN,UAAAA,MAAM,EAAEe,IAAI,CAACE,SAAL,CAAeC,KADb;AAEVhB,UAAAA,WAAW,EAAE,KAAKC,KAAL,CAAWD;AAFd,SAAd;AAIH;AAEJ,KA1BiC;AAAA;;AA6BlCiB,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKhB,KAAL,CAAWO,MAAX,IAAqB,KAAKX,KAAL,CAAWG,WAAhC,GACG;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKC,KAAL,CAAWO,MAAX,CAAkBU,GAAlB,CAAsB,CAACC,KAAD,EAAQC,KAAR,KACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AACI,MAAA,SAAS,EAAC,wBADd;AAEI,MAAA,GAAG,EAAEA,KAFT;AAGI,MAAA,OAAO,EAAE,KAAKf,aAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKKc,KAAK,CAACE,IALX,CADJ,CADH,CADL,EAaI,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAE,KAAKxB,KAAL,CAAWC,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbJ,CAFJ,CADH,GAmBK,KAAKG,KAAL,CAAWO,MAAX,GAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAClB;AAAQ,MAAA,OAAO,EAAE,KAAKL,IAAtB;AAA4B,MAAA,SAAS,EAAC,sBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oFADkB,EAElB,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAE,KAAKN,KAAL,CAAWC,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFkB,CAApB,GAGO,KAAKG,KAAL,CAAWC,KAAX,IAAoBH,SAApB,GAAgC;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqC,KAAKE,KAAL,CAAWC,KAAhD,CAAhC,GAA+F,EAvBhH,CADJ;AA2BH;;AAzDiC;;AA6DtC,eAAeP,OAAf","sourcesContent":["import React from 'react';\r\nimport Albums from './Albums';\r\nimport Search from './Search';\r\nimport {apiKey} from '../api_key.js';\r\n\r\n\r\nclass Artists extends React.Component {\r\n\r\n    state = {\r\n        albums: undefined,\r\n        showResults: this.props.showResults == false ? false : true,\r\n        error: this.props.error,\r\n    };\r\n    back = () => {\r\n        this.setState({\r\n            showResults: true,\r\n        });\r\n    }\r\n    gettingAlbums = async (e) => {\r\n\r\n        e.preventDefault();\r\n        const artist = e.target.innerHTML;\r\n        if (artist) {\r\n\r\n            const api_url = await fetch(`http://ws.audioscrobbler.com/2.0/?method=artist.gettopalbums&artist=${artist}&api_key=${apiKey}&format=json`);\r\n            const data = await api_url.json();\r\n            this.setState({\r\n                albums: data.topalbums.album,\r\n                showResults: this.props.showResults,\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.props.artist && this.state.showResults ?\r\n                    <div className=\"artists\">\r\n\r\n                        <ul>\r\n                            {this.props.artist.map((place, index) => (\r\n                                <li>\r\n                                    <button\r\n                                        className=\"btn btn-info mt-1 mb-1\"\r\n                                        key={index}\r\n                                        onClick={this.gettingAlbums}\r\n                                    >\r\n                                        {place.name}\r\n                                    </button>\r\n                                </li>\r\n                            ))}\r\n\r\n                            <Albums albums={this.state.albums}/>\r\n                        </ul>\r\n                    </div>\r\n                    : this.props.artist ? <div>\r\n                        <button onClick={this.back} className=\"btn btn-primary ml-4\">Назад к поиску</button>\r\n                        <Albums albums={this.state.albums}/>\r\n                    </div> : this.props.error != undefined ? <div className=\"alert alert-danger\">{this.props.error}</div> : ''}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Artists;\r\n"]},"metadata":{},"sourceType":"module"}