{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Odyssey\\\\Documents\\\\GitHub\\\\squads\\\\LastFM-react-web-client\\\\src\\\\Functions\\\\Auth.js\";\nimport api from '../Config/api';\nimport { Redirect } from 'react-router-dom';\n\nconst authenticate = async params => {\n  let token = localStorage.getItem('token');\n  api.defaults.headers.common = await {\n    Authorization: \"bearer \".concat(token)\n  };\n  await api.post('/auth/authenticate', params).then(response => {\n    const token = response.data.token;\n    localStorage.setItem('token', token);\n    api.defaults.headers.common = {\n      Authorization: \"Bearer \".concat(token)\n    }; // setSigned(true);\n\n    React.createElement(Redirect, {\n      push: true,\n      to: '/main',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15\n      },\n      __self: this\n    });\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nexport default authenticate;","map":{"version":3,"sources":["C:\\Users\\Odyssey\\Documents\\GitHub\\squads\\LastFM-react-web-client\\src\\Functions\\Auth.js"],"names":["api","Redirect","authenticate","params","token","localStorage","getItem","defaults","headers","common","Authorization","post","then","response","data","setItem","catch","err","console","log"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,eAAhB;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AACA,MAAMC,YAAY,GAAG,MAAOC,MAAP,IAAkB;AACrC,MAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACAN,EAAAA,GAAG,CAACO,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,GAA8B,MAAM;AAAEC,IAAAA,aAAa,mBAAYN,KAAZ;AAAf,GAApC;AAEA,QAAMJ,GAAG,CACNW,IADG,CACE,oBADF,EACwBR,MADxB,EAEHS,IAFG,CAEGC,QAAD,IAAc;AAClB,UAAMT,KAAK,GAAGS,QAAQ,CAACC,IAAT,CAAcV,KAA5B;AACAC,IAAAA,YAAY,CAACU,OAAb,CAAqB,OAArB,EAA8BX,KAA9B;AACAJ,IAAAA,GAAG,CAACO,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,GAA8B;AAAEC,MAAAA,aAAa,mBAAYN,KAAZ;AAAf,KAA9B,CAHkB,CAIlB;;AAEA,wBAAC,QAAD;AAAU,MAAA,IAAI,MAAd;AAAe,MAAA,EAAE,EAAE,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD,GATG,EAUHY,KAVG,CAUIC,GAAD,IAAS;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GAZG,CAAN;AAaD,CAjBD;;AAmBA,eAAef,YAAf","sourcesContent":["import api from '../Config/api';\r\nimport { Redirect } from 'react-router-dom';\r\nconst authenticate = async (params) => {\r\n  let token = localStorage.getItem('token');\r\n  api.defaults.headers.common = await { Authorization: `bearer ${token}` };\r\n\r\n  await api\r\n    .post('/auth/authenticate', params)\r\n    .then((response) => {\r\n      const token = response.data.token;\r\n      localStorage.setItem('token', token);\r\n      api.defaults.headers.common = { Authorization: `Bearer ${token}` };\r\n      // setSigned(true);\r\n\r\n      <Redirect push to={'/main'} />;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport default authenticate;\r\n"]},"metadata":{},"sourceType":"module"}